
    <!DOCTYPE html>
    <html>
    <head>
        <title>Relatório Ticket Médio - JULHO 2025</title>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .container { max-width: 900px; margin: auto; }
            h1 { color: #2E86C1; }
            .info { background: #f5f5f5; padding: 15px; border-radius: 5px; }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>Relatório Ticket Médio - JULHO 2025</h1>
            <div class="info">
                <p>Use <code>?franqueado=nome</code> na URL para filtrar (ex: <code>?franqueado=leonardo</code>).</p>
            </div>
            <div id="grafico"></div>
        </div>

        <script>
            // Dados dos franqueados (gerados pelo Python)
            const dadosFranqueados = {"geral": {"unidades": ["Alegrete 01 (RS)", "Bagé 01 (RS)", "Bagé 02 (RS)", "Cachoeira do Sul 01 (RS)", "Canela 01 (RS)", "Canoas 01 - Shopping Canoas (RS)", "Canoas 02 (RS)", "Capão da Canoa 01 (RS)", "Carazinho 01 (RS)", "Caxias do Sul 01 (RS)", "Cruz Alta 01 (RS)", "Dom Pedrito 01 (RS)", "Frederico Westphalen 01 (RS)", "Gramado 01 (RS)", "Gravataí 01 (RS)", "Ibirubá 01 (RS)", "Ijuí 01 (RS)", "Itaqui 01 (RS)", "Lajeado 01 (RS)", "Lajeado 02 - Havan (RS)", "Marau 01 (RS)", "Montenegro 01 (RS)", "Novo Hamburgo 02 - Shopping Bourbon (RS)", "Palmeira das Missões 01 (RS)", "Passo Fundo 01 - Passo Fundo Shopping (RS)", "Passo Fundo 02 - Shopping Bella Citta (RS)", "Pelotas 01 - Shopping Pelotas (RS)", "Porto Alegre 02 - Pontal Shopping (RS)", "Porto Alegre 03 (RS)", "Rio Grande 01 (RS)", "Rosário do Sul 01 (RS)", "Santa Cruz do Sul 01 (RS)", "Santa Maria 01 (RS)", "Santa Maria 02 - ROYAL PLAZA SHOPPING (RS)", "Santa Maria 03 - Shopping Praça Nova (RS)", "Santa Rosa 01 (RS)", "Santana do Livramento 01 (RS)", "Santiago 01 (RS)", "Santo Ângelo 01 (RS)", "São Borja 01 (RS)", "São Gabriel 01 (RS)", "São Leopoldo 01 - Bourbon Shopping São Leopoldo (RS)", "São Luiz Gonzaga 01 (RS)", "Sarandi 01 (RS)", "Teutônia 01 (RS)", "Torres 02 (RS)", "Tramandaí 03 (RS)", "Três de Maio 01 (RS)", "Três Passos 01 (RS)", "Uruguaiana 01 (RS)"], "ticket_medio": 27.7484}, "leonardo": {"unidades": ["Alegrete 01 (RS)", "Bagé 01 (RS)", "Dom Pedrito 01 (RS)", "Itaqui 01 (RS)", "Rosário do Sul 01 (RS)", "Santana do Livramento 01 (RS)", "Uruguaiana 01 (RS)"], "ticket_medio": 28.33}, "augusto": {"unidades": ["Bagé 02 (RS)"], "ticket_medio": 23.32}, "marcio": {"unidades": ["Cachoeira do Sul 01 (RS)", "Ibirubá 01 (RS)", "São Borja 01 (RS)"], "ticket_medio": 28.68}, "fabio": {"unidades": ["Canela 01 (RS)", "Cruz Alta 01 (RS)", "Gramado 01 (RS)", "Gravataí 01 (RS)", "Porto Alegre 02 - Pontal Shopping (RS)", "Porto Alegre 03 (RS)", "Santo Ângelo 01 (RS)", "São Gabriel 01 (RS)", "Santa Rosa 01 (RS)"], "ticket_medio": 28.67}, "rochele": {"unidades": ["Canoas 01 - Shopping Canoas (RS)", "Canoas 02 (RS)"], "ticket_medio": 23.24}, "filipe": {"unidades": ["Capão da Canoa 01 (RS)", "Torres 02 (RS)"], "ticket_medio": 30.97}, "evandro": {"unidades": ["Carazinho 01 (RS)", "Frederico Westphalen 01 (RS)", "Ijuí 01 (RS)", "Passo Fundo 01 - Passo Fundo Shopping (RS)"], "ticket_medio": 29.83}, "patric": {"unidades": ["Caxias do Sul 01 (RS)"], "ticket_medio": 27.26}, "vania": {"unidades": ["Lajeado 01 (RS)", "Lajeado 02 - Havan (RS)"], "ticket_medio": 31.85}, "gabi": {"unidades": ["Marau 01 (RS)"], "ticket_medio": 27.8}, "claudia": {"unidades": ["Montenegro 01 (RS)", "Novo Hamburgo 02 - Shopping Bourbon (RS)", "Teutônia 01 (RS)"], "ticket_medio": 26.85}, "dionatas": {"unidades": ["Palmeira das Missões 01 (RS)"], "ticket_medio": 33.57}, "julio": {"unidades": ["Passo Fundo 02 - Shopping Bella Citta (RS)", "São Luiz Gonzaga 01 (RS)"], "ticket_medio": 22.86}, "reges": {"unidades": ["Pelotas 01 - Shopping Pelotas (RS)", "Rio Grande 01 (RS)"], "ticket_medio": 23.03}, "bruno": {"unidades": ["Santa Cruz do Sul 01 (RS)"], "ticket_medio": 22.8}, "diogo": {"unidades": ["Santa Maria 01 (RS)", "Santa Maria 02 - ROYAL PLAZA SHOPPING (RS)", "Santa Maria 03 - Shopping Praça Nova (RS)"], "ticket_medio": 23.69}, "elenise": {"unidades": ["Santiago 01 (RS)"], "ticket_medio": 25.88}, "jesus": {"unidades": ["São Leopoldo 01 - Bourbon Shopping São Leopoldo (RS)", "Tramandaí 03 (RS)"], "ticket_medio": 26.0}, "lucas": {"unidades": ["Sarandi 01 (RS)"], "ticket_medio": 33.1}, "gilberto": {"unidades": ["Três de Maio 01 (RS)"], "ticket_medio": 30.99}, "vanderlei": {"unidades": ["Três Passos 01 (RS)"], "ticket_medio": 27.45}};

            // Pega o parâmetro da URL
            const urlParams = new URLSearchParams(window.location.search);
            const franqueado = urlParams.get('franqueado') || 'geral';

            // Filtra os dados
            const dados = franqueado === 'geral' 
                ? dadosFranqueados.geral 
                : dadosFranqueados[franqueado] || { unidades: [], ticket_medio: 0 };

            // Cria o gráfico
            Plotly.newPlot('grafico', [{
                y: dados.unidades,
                x: dados.unidades.map(u => dados.ticket_medio),
                type: 'bar',
                orientation: 'h',
                marker: { color: '#2E86C1' }
            }], {
                title: `Ticket Médio - ${franqueado === 'geral' ? 'Carteira' : franqueado}`,
                xaxis: { title: 'Ticket Médio (R$)' }
            });
        </script>
    </body>
    </html>
    